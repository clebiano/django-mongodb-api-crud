{% extends 'base.html' %}

{% load widget_tweaks %}

{% block title %}Atualizar cadastro{% endblock %}

{% block main %}

<div class="row">
    <div class="col">
        <h1>Atualizar cadastro do paciente</h1>
    </div>
</div>

<div class="row">
    <div class="col-10 patientForm">
        <form action="" method="POST" id="patientForm" class="patientForm" enctype="multipart/form-data"
            autocomplete="off" novalidate>
            {% csrf_token %}
            <!-- {{ form.as_p }}-->

            {% for hidden in form.hidden_fields %}
                {{ hidden }}
            {% endfor %}

            <div class="form-row">
                <div class="form-group col-md-4">
                    <label>Nome do Cliente</label>
                    {{ form.name }}
                </div>
                <div class="form-group col-md-4">
                    <label>Data de Nascimento</label>
                    {{ form.birth_date }}
                </div>
                <div class="form-group col-md-4">
                    <label>Código Identificador</label>
                    {% render_field form.id|append_attr:"readonly:readonly" %}
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label>Data de Coleta</label>
                    {{ form.collection_date }}
                </div>
                <div class="form-group col-md-6">
                    <label>Data de Entrega</label>
                    {{ form.delivery_date }}
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col">
                    <label>Nome do Médico</label>
                    {{ form.doctor_name }}
                </div>
            </div>
            <div class="form-row">
                <div class="col text-right py-4">
                    <button type="submit" name="submit" id="submit" class="btn btn-success">
                        <i class="fas fa-check"></i> Salvar</button>
                </div>
            </div>
        </form>
    </div>
</div>

<script>

FORM_RULES = {};

FORM_MESSAGES = {};

$(function() {

    $('form').validate({
        rules: FORM_RULES,
        messages: FORM_MESSAGES
    });

    $( "#id_birth_date, #id_collection_date, #id_delivery_date" ).datepicker({
        format:'dd/mm/yyyy',
        language:'pt-BR',
        endDate:'today',
    });

});
</script>
{% endblock %}
